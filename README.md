# Name-Matching-with-Machine-Learning

**Basic Information**

* **Person or organization developing model**: Neel Barge, Ziyad Maknojia, Basil Punnus, Youssef Ragab, Alexandra Kakadiaris, Josephene Yang, `nbarge96@gwu.edu`, 'zam@gwu.edu', 'basilpunnus@gwu.edu', 'yragab@gwu.edu', 'akakadiaris@gwu.edu', 'yangxiaoda@gwu.edu'
* **Model date**: May, 2021

**Intended use**
- Primary intended uses:
  - Matching customer names with lists of “bad actors”, which is a requirement for all financial institutions and a difficult problem to solve.
  - Name matching can be used to find a certain product that a customer might want to purchase (Product names online).
  - It can also be used when trying to find a local branch (Address).
  - Primary intended users: Financial institutions.
  - Out-of-scope use cases: This is solely for educational purpose for learning. Any use beyond an educational example is out-of-scope.
- Describe the business value of your group's best model
  - The best model is used for screening the customer names against watchlists of known financial criminals, terrorists, and entities subject to sanctions violations (“bad actors”). If there is a match, the bank may choose to not execute the transaction or onboard the customer.

**Training data**

- State the source of training data
  - U.S. DEPARTMENT OF THE TREASURY Office of Foreign Assets Control - Sanctions Programs and Information https://www.treasury.gov/ofac/downloads/sdn.csv
- State how training data was divided into training and validation data
  - 70/30.  
- State the number of rows in training
  - Train data rows = 700, columns = 5. Train data rows = 300, columns = 5
- Define the meaning of all training data columns
  - Data dictionary:
 
|Name|Modeling Role|	Measurement Level|	Description|
-----|-------------|------------------|------------|
**Test Name Variation**|	target|	string| name variation after transforming the orignal watchlist name|
**Theme** |	imput |	string|	broad categorization of the test name variation|
**Category**|input|	string|	type of transformation undergone by test name variation|
**Subcategory**|	input|	string|	type of exact transformation undegone by the test name variation|
**Entity Type**|	input|	string|	whether the orignal watchlist name is a city, country, entity, individual or a vessel name|
**Orignal Watchlist Name**|	input| string|	orignal watchlist name|
  
- Define the meaning of all engineered columns
  - '# of TPs(Obtained)': Number of True positives or Matches found for 'Orignal Watchlist Name' in the OFAC List
  - 'Digits Removed': Test Name after removing all the numbers.
  - 'Name Variation First Last': 'Test Name Variation' converted to lowercase and arranged in First Middle Last Name order
  - 'Name Variation Clean': 'Name Variation First Last' without any punctuations
  - 'VOHs(Cosine)': Volume of Hits or Number of True Positives plus Number of False Positives for a 'Test Name Variation' above the decided cutoff
  - 'TP predicted by Cosine': whether a hit is a True Positive (1) or not (0) 
  
**Evaluation data**
- State the source of evaluation (or test) data
  - Test Case generated by the Client.
- State the number of rows in evaluation (or test) data
  - 641 (without the header).
- State any differences in columns between training and evaluation (or test) data
  - 'Rec. No': Index
  - 'List Name': OFAC list Name arranged in First Name Last Name order
  - 'Orignal List Name': Orignal Name from the OFAC List
  - '# of TPs': Number of matches or True Positives found in the OFAC List for corresponsding List Name or Orignal List name.
  - 'Volume': True Positives plus False Positives generated by a Name Variation on looking up the OFAC List

**Model details**
- State the columns used as inputs in your group's best model
  'Rec. No', 'Theme',	'Category',	'Subcategory', 'Entity Type',	'List Name',	'Original List Name',	'Name Variation',	'# of TPs', 'Volume', '# of TPs(Obtained)',	'Digits Removed',	'Name Variation First Last',	'Name Variation Clean',	'VOHs(Cosine)',	'TP predicted by Cosine'
- State the columns used as targets in your group's best model

- State the type of your group's best remediated model
  - Cosine Simalarity.
- State the software used to implement your group's best model
  - 'pandas','jellyfish', 'matplotlib', 'scikit-learn', 'scipy', 'seaborn', 'numpy'
- State the version of the modeling software for your group's best remediated model
  - 'pandas 1.4.2', 'jellyfish 0.9.0', 'matplotlib 3.5.2', 'scikit-learn 1.0.2', 'scipy 1.8.1', 'seaborn 0.11.2', ' numpy 1.22.4'
- State the hyperparameters or other settings of your group's best remediated model
  - Cosine Similarity(cutoff:0.5) with Levenshtein Distance(cutoff1:15, cutoff2:2)

**Quantitative analysis**

- State the metrics used to evaluate your group's best model
  - True Positive percentage(TP%) and Volume of Hits(VOHs).
- State the values of the metrics for training, validation, and evaluation (or test) data evaluation (or test) metrics come from the most recent class full evaluation results
  - Training:
   - Cosine: TP% - 90.12%, VOHs - 2193
   - Double Metaphone: TP% - 97.93%, VOHs - 23900
   - Soundex: TP% - 95.69%, VOHs - 33267
  - Test:  
   - Cosine: TP% - 59.90%, VOHs - 1807
   - Double Metaphone: TP% - 65.05%, VOHs - 24284
   - Soundex: TP% - 65.99%, VOHs - 42968
- Provide at least one plot or table from each weekly assignment for a total of at least six plots, that must include the global variable importance and partial dependence of your group's best remediated model.
  - Training:
    - Cosine Similarity with Levenshtein
      <img width="653" alt="CSWL" src="https://user-images.githubusercontent.com/89561764/188288466-ccd6235a-b809-4677-b809-89cddf46c0a9.png">
      |:--:|
      | <b>Cutoff vs TP% and VOHs</b>|
    - Double Metaphone  with Levenshtein
      <img width="592" alt="DML" src="https://user-images.githubusercontent.com/89561764/188288477-d16d2d48-1a5e-4a89-80f2-69805eb164c0.png">
      |:--:|
      | <b>Cutoff vs TP% and VOHs</b>|
    - Soundex with Levenshtein
      <img width="567" alt="SWL" src="https://user-images.githubusercontent.com/89561764/188288483-bec3f0c0-772b-48dc-9b79-cf60f5916e87.png">
      |:--:|
      | <b>Cutoff vs TP% and VOHs</b>|   
  - Test:
    - Performance Metrics
      <img width="1329" alt="Performance Metrics" src="https://user-images.githubusercontent.com/89561764/188244780-62265586-4049-4c9b-ab28-f97601f265ca.png">
      |:--:|
      | <b>TP% and VOHs per Model</b>|
    

**Ethical considerations**

- Describe any unexpected or results encountered during training
  - Due to the limitations of the vectorization function used, the output data frame consists of one test case generating a hit on multiple OFAC names.  For Example, test names with 'Muhammad' generates a Cosine Score of 0.707 for just a single common word with the compared OFAC Name. 
  - Decline in TP% for the Test Data as Test Data covers more transformations than the model is trained for.

